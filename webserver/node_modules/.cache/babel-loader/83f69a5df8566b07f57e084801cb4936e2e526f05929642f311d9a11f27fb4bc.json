{"ast":null,"code":"import React,{useEffect,useState}from'react';import{fetchImageList}from'../utils/imageFetcher';// ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄÏö©\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const latest_image=()=>{const[images,setImages]=useState([]);const[analyzedImages,setAnalyzedImages]=useState([]);useEffect(()=>{// 1. ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ\nfetchImageList().then(data=>{setImages(data);}).catch(err=>{console.error(\"‚ùå ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:\",err);});// 2. Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ (JSON)\nfetch('http://220.149.235.221:4000/api/images_result').then(res=>res.json()).then(fileList=>{const sorted=fileList.filter(name=>name.endsWith('.jpg')).sort((a,b)=>{const getTime=f=>{const match=f.match(/frame_(\\d+)(?:_result)?\\.jpg/);return match?parseInt(match[1]):0;};return getTime(b)-getTime(a);});const fullData=sorted.map(name=>{var _name$match;return{name,url:`http://220.149.235.221:4000/images_result/${name}`,timestamp:parseInt(((_name$match=name.match(/frame_(\\d+)(?:_result)?\\.jpg/))===null||_name$match===void 0?void 0:_name$match[1])||0)};});setAnalyzedImages(fullData);}).catch(err=>{console.error(\"‚ùå Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ JSON Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:\",err);});},[]);const formatDate=ts=>{const date=new Date(ts);return date.toLocaleString('ko-KR');};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-screen-xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6\",children:\"\\uC804\\uCCB4 \\uC800\\uC7A5\\uB41C \\uC774\\uBBF8\\uC9C0 \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"\\uD83D\\uDCF7 \\uC6D0\\uBCF8 \\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-6 mb-12\",children:images.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"\\uBD88\\uB7EC\\uC62C \\uC774\\uBBF8\\uC9C0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):images.map((img,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border p-2 text-center space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 flex items-center justify-center border\",children:/*#__PURE__*/_jsx(\"img\",{src:img.url,alt:img.name,className:\"max-h-full object-contain\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-800 font-semibold\",children:img.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:formatDate(img.timestamp)})]},idx))}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"\\uD83E\\uDDE0 AI\\uAC00 \\uBD84\\uC11D\\uD55C \\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-6\",children:analyzedImages.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"\\uBD88\\uB7EC\\uC62C \\uBD84\\uC11D \\uC774\\uBBF8\\uC9C0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):analyzedImages.map((img,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border p-2 text-center space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 flex items-center justify-center border\",children:/*#__PURE__*/_jsx(\"img\",{src:img.url,alt:img.name,className:\"max-h-full object-contain\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-800 font-semibold\",children:img.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:formatDate(img.timestamp)})]},idx))})]});};export default latest_image;","map":{"version":3,"names":["React","useEffect","useState","fetchImageList","jsx","_jsx","jsxs","_jsxs","latest_image","images","setImages","analyzedImages","setAnalyzedImages","then","data","catch","err","console","error","fetch","res","json","fileList","sorted","filter","name","endsWith","sort","a","b","getTime","f","match","parseInt","fullData","map","_name$match","url","timestamp","formatDate","ts","date","Date","toLocaleString","className","children","length","img","idx","src","alt"],"sources":["/home/getout/workspace/my-tailwind-site/src/pages/latest_image.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { fetchImageList } from '../utils/imageFetcher'; // ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄÏö©\n\nconst latest_image = () => {\n  const [images, setImages] = useState([]);\n  const [analyzedImages, setAnalyzedImages] = useState([]);\n\n  useEffect(() => {\n    // 1. ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ\n    fetchImageList()\n      .then(data => {\n        setImages(data);\n      })\n      .catch(err => {\n        console.error(\"‚ùå ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:\", err);\n      });\n\n    // 2. Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ (JSON)\n    fetch('http://220.149.235.221:4000/api/images_result')\n      .then(res => res.json())\n      .then(fileList => {\n        const sorted = fileList\n          .filter(name => name.endsWith('.jpg'))\n          .sort((a, b) => {\n            const getTime = f => {\n              const match = f.match(/frame_(\\d+)(?:_result)?\\.jpg/);\n              return match ? parseInt(match[1]) : 0;\n            };\n            return getTime(b) - getTime(a);\n          });\n\n        const fullData = sorted.map(name => ({\n          name,\n          url: `http://220.149.235.221:4000/images_result/${name}`,\n          timestamp: parseInt(name.match(/frame_(\\d+)(?:_result)?\\.jpg/)?.[1] || 0)\n        }));\n\n        setAnalyzedImages(fullData);\n      })\n      .catch(err => {\n        console.error(\"‚ùå Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ JSON Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:\", err);\n      });\n  }, []);\n\n  const formatDate = (ts) => {\n    const date = new Date(ts);\n    return date.toLocaleString('ko-KR');\n  };\n\n  return (\n    <div className=\"p-6 max-w-screen-xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-6\">Ï†ÑÏ≤¥ Ï†ÄÏû•Îêú Ïù¥ÎØ∏ÏßÄ Î™©Î°ù</h1>\n\n      {/* ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ ÏÑπÏÖò */}\n      <h2 className=\"text-xl font-semibold mb-4\">üì∑ ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ</h2>\n      <div className=\"grid grid-cols-3 gap-6 mb-12\">\n        {images.length === 0 ? (\n          <div className=\"text-gray-500\">Î∂àÎü¨Ïò¨ Ïù¥ÎØ∏ÏßÄÍ∞Ä ÏóÜÏäµÎãàÎã§.</div>\n        ) : (\n          images.map((img, idx) => (\n            <div key={idx} className=\"border p-2 text-center space-y-2\">\n              <div className=\"h-48 flex items-center justify-center border\">\n                <img src={img.url} alt={img.name} className=\"max-h-full object-contain\" />\n              </div>\n              <div className=\"text-sm text-gray-800 font-semibold\">{img.name}</div>\n              <div className=\"text-xs text-gray-500\">{formatDate(img.timestamp)}</div>\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ ÏÑπÏÖò */}\n      <h2 className=\"text-xl font-semibold mb-4\">üß† AIÍ∞Ä Î∂ÑÏÑùÌïú Ïù¥ÎØ∏ÏßÄ</h2>\n      <div className=\"grid grid-cols-3 gap-6\">\n        {analyzedImages.length === 0 ? (\n          <div className=\"text-gray-500\">Î∂àÎü¨Ïò¨ Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄÍ∞Ä ÏóÜÏäµÎãàÎã§.</div>\n        ) : (\n          analyzedImages.map((img, idx) => (\n            <div key={idx} className=\"border p-2 text-center space-y-2\">\n              <div className=\"h-48 flex items-center justify-center border\">\n                <img src={img.url} alt={img.name} className=\"max-h-full object-contain\" />\n              </div>\n              <div className=\"text-sm text-gray-800 font-semibold\">{img.name}</div>\n              <div className=\"text-xs text-gray-500\">{formatDate(img.timestamp)}</div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default latest_image;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}