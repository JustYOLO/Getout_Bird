{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ImageSection=()=>{const[latestImage,setLatestImage]=useState(null);useEffect(()=>{fetch('http://220.149.235.221:4000/api/images').then(res=>res.text())// HTML text로 받아옴\n.then(html=>{const parser=new DOMParser();const doc=parser.parseFromString(html,'text/html');const links=Array.from(doc.querySelectorAll('a')).map(a=>a.getAttribute('href')).filter(name=>(name===null||name===void 0?void 0:name.startsWith('frame_'))&&name.endsWith('.jpg'));const sorted=links.sort((a,b)=>{const getTime=f=>parseInt(f.match(/frame_(\\d+)\\.jpg/)[1]);return getTime(b)-getTime(a);});if(sorted.length>0){setLatestImage(`http://220.149.235.221:4000/images/${sorted[0]}`);// fetch latest image\n}else{setLatestImage(null);}}).catch(()=>setLatestImage(null));},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 grid grid-rows-2 gap-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center font-bold text-lg mb-3\",children:\"\\uCD5C\\uADFC\\uC5D0 \\uCC0D\\uD78C \\uC0AC\\uC9C4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-black h-72 flex items-center justify-center\",children:latestImage?/*#__PURE__*/_jsx(\"img\",{src:latestImage,alt:\"\\uCD5C\\uADFC \\uC774\\uBBF8\\uC9C0\",className:\"h-full object-contain\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"\\uC774\\uBBF8\\uC9C0\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center font-bold text-lg mb-3\",children:\"AI\\uAC00 \\uBD84\\uC11D\\uD55C \\uC0AC\\uC9C4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-black h-72 flex items-center justify-center\",children:\"\\uC774\\uBBF8\\uC9C0 \\uD45C\\uC2DC \\uC601\\uC5ED\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center font-bold text-lg mb-3\",children:\"\\uCD5C\\uADFC\\uC5D0 \\uB179\\uC74C\\uB41C \\uC74C\\uC131\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-black h-36 flex items-center justify-center text-sm\",children:\"\\uC624\\uB514\\uC624 \\uD45C\\uC2DC \\uC601\\uC5ED\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center font-bold text-lg mb-3\",children:\"AI\\uAC00 \\uBD84\\uC11D\\uD55C \\uC74C\\uC131\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-black h-36 flex items-center justify-center text-sm\",children:\"\\uC624\\uB514\\uC624 \\uD45C\\uC2DC \\uC601\\uC5ED\"})]})]})]});};export default ImageSection;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","ImageSection","latestImage","setLatestImage","fetch","then","res","text","html","parser","DOMParser","doc","parseFromString","links","Array","from","querySelectorAll","map","a","getAttribute","filter","name","startsWith","endsWith","sorted","sort","b","getTime","f","parseInt","match","length","catch","className","children","src","alt"],"sources":["/home/getout/workspace/my-tailwind-site/src/components/ImageSection.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst ImageSection = () => {\n  const [latestImage, setLatestImage] = useState(null);\n\n  useEffect(() => {\n    fetch('http://220.149.235.221:4000/api/images')\n      .then(res => res.text()) // HTML text로 받아옴\n      .then(html => {\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(html, 'text/html');\n        const links = Array.from(doc.querySelectorAll('a'))\n          .map(a => a.getAttribute('href'))\n          .filter(name => name?.startsWith('frame_') && name.endsWith('.jpg'));\n\n        const sorted = links.sort((a, b) => {\n          const getTime = f => parseInt(f.match(/frame_(\\d+)\\.jpg/)[1]);\n          return getTime(b) - getTime(a);\n        });\n\n        if (sorted.length > 0) {\n          setLatestImage(`http://220.149.235.221:4000/images/${sorted[0]}`); // fetch latest image\n        } else {\n          setLatestImage(null);\n        }\n      })\n      .catch(() => setLatestImage(null));\n  }, []);\n\n  return (\n    <div className=\"p-8 grid grid-rows-2 gap-12\">\n      <div className=\"grid grid-cols-2 gap-6\">\n        <div>\n          <div className=\"text-center font-bold text-lg mb-3\">최근에 찍힌 사진</div>\n          <div className=\"border border-black h-72 flex items-center justify-center\">\n            {latestImage ? (\n              <img\n                src={latestImage}\n                alt=\"최근 이미지\"\n                className=\"h-full object-contain\"\n              />\n            ) : (\n              <span className=\"text-gray-500\">이미지를 불러오는 중...</span>\n            )}\n          </div>\n        </div>\n        <div>\n          <div className=\"text-center font-bold text-lg mb-3\">AI가 분석한 사진</div>\n          <div className=\"border border-black h-72 flex items-center justify-center\">\n            이미지 표시 영역\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-6\">\n        <div>\n          <div className=\"text-center font-bold text-lg mb-3\">최근에 녹음된 음성</div>\n          <div className=\"border border-black h-36 flex items-center justify-center text-sm\">\n            오디오 표시 영역\n          </div>\n        </div>\n        <div>\n          <div className=\"text-center font-bold text-lg mb-3\">AI가 분석한 음성</div>\n          <div className=\"border border-black h-36 flex items-center justify-center text-sm\">\n            오디오 표시 영역\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageSection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}