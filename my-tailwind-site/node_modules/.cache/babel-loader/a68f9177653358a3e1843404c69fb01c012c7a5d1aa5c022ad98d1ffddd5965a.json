{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const latest_audio=()=>{const[audios,setAudios]=useState([]);useEffect(()=>{fetch('http://220.149.235.221:4000/api/sounds').then(res=>res.json()).then(fileList=>{const sorted=fileList.filter(name=>name.endsWith('.wav')||name.endsWith('.mp3')).sort((a,b)=>{const getTime=f=>{const match=f.match(/(\\d+)/);return match?parseInt(match[1]):0;};return getTime(b)-getTime(a);});const fullData=sorted.map(name=>{var _name$match;return{name,url:`http://220.149.235.221:4000/sounds/${name}`,timestamp:parseInt(((_name$match=name.match(/(\\d+)/))===null||_name$match===void 0?void 0:_name$match[1])||0)};});setAudios(fullData);}).catch(err=>{console.error(\"❌ 오디오 불러오기 실패:\",err);});},[]);const formatDate=ts=>{const date=new Date(ts);return isNaN(ts)?\"날짜 정보 없음\":date.toLocaleString('ko-KR');};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-screen-xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6\",children:\"\\uC804\\uCCB4 \\uC800\\uC7A5\\uB41C \\uC624\\uB514\\uC624 \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-6\",children:audios.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"\\uBD88\\uB7EC\\uC62C \\uC624\\uB514\\uC624\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):audios.map((audio,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border p-4 space-y-2 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold\",children:audio.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:formatDate(audio.timestamp)}),/*#__PURE__*/_jsxs(\"audio\",{controls:true,className:\"w-full\",children:[/*#__PURE__*/_jsx(\"source\",{src:audio.url}),\"\\uBE0C\\uB77C\\uC6B0\\uC800\\uAC00 \\uC624\\uB514\\uC624 \\uD0DC\\uADF8\\uB97C \\uC9C0\\uC6D0\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"]})]},idx))})]});};export default latest_audio;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","latest_audio","audios","setAudios","fetch","then","res","json","fileList","sorted","filter","name","endsWith","sort","a","b","getTime","f","match","parseInt","fullData","map","_name$match","url","timestamp","catch","err","console","error","formatDate","ts","date","Date","isNaN","toLocaleString","className","children","length","audio","idx","controls","src"],"sources":["/home/getout/workspace/my-tailwind-site/src/pages/latest_audio.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst latest_audio = () => {\n  const [audios, setAudios] = useState([]);\n\n  useEffect(() => {\n    fetch('http://220.149.235.221:4000/api/sounds')\n      .then(res => res.json())\n      .then(fileList => {\n        const sorted = fileList\n          .filter(name => name.endsWith('.wav') || name.endsWith('.mp3'))\n          .sort((a, b) => {\n            const getTime = f => {\n              const match = f.match(/(\\d+)/);\n              return match ? parseInt(match[1]) : 0;\n            };\n            return getTime(b) - getTime(a);\n          });\n\n        const fullData = sorted.map(name => ({\n          name,\n          url: `http://220.149.235.221:4000/sounds/${name}`,\n          timestamp: parseInt(name.match(/(\\d+)/)?.[1] || 0),\n        }));\n\n        setAudios(fullData);\n      })\n      .catch(err => {\n        console.error(\"❌ 오디오 불러오기 실패:\", err);\n      });\n  }, []);\n\n  const formatDate = (ts) => {\n    const date = new Date(ts);\n    return isNaN(ts) ? \"날짜 정보 없음\" : date.toLocaleString('ko-KR');\n  };\n\n  return (\n    <div className=\"p-6 max-w-screen-xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-6\">전체 저장된 오디오 목록</h1>\n      <div className=\"grid grid-cols-2 gap-6\">\n        {audios.length === 0 ? (\n          <div className=\"text-gray-500\">불러올 오디오가 없습니다.</div>\n        ) : (\n          audios.map((audio, idx) => (\n            <div key={idx} className=\"border p-4 space-y-2 text-center\">\n              <div className=\"text-sm font-semibold\">{audio.name}</div>\n              <div className=\"text-xs text-gray-500\">{formatDate(audio.timestamp)}</div>\n              <audio controls className=\"w-full\">\n                <source src={audio.url} />\n                브라우저가 오디오 태그를 지원하지 않습니다.\n              </audio>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default latest_audio;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}