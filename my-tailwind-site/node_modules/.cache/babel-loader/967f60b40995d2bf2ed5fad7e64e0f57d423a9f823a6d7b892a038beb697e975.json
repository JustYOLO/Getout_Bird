{"ast":null,"code":"import React,{useEffect,useState}from'react';import{fetchImageList}from'../utils/imageFetcher';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const latest_image=()=>{const[images,setImages]=useState([]);const[analyzedImages,setAnalyzedImages]=useState([]);useEffect(()=>{// 1. ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ Í∞ÄÏ†∏Ïò§Í∏∞\nfetchImageList().then(data=>{console.log(\"‚úÖ ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ:\",data);setImages(data);}).catch(err=>{console.error(\"‚ùå ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ Ïã§Ìå®:\",err);});// 2. Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ Í∞ÄÏ†∏Ïò§Í∏∞ (HTMLÏóêÏÑú ÌååÏã±)\nfetch('http://220.149.235.221:4000/images_result/').then(res=>res.text()).then(html=>{const parser=new DOMParser();const doc=parser.parseFromString(html,'text/html');const links=Array.from(doc.querySelectorAll('a')).map(a=>a.getAttribute('href')).filter(name=>(name===null||name===void 0?void 0:name.startsWith('frame_'))&&name.endsWith('.jpg'));const sorted=links.sort((a,b)=>{const getTime=f=>{const match=f.match(/frame_(\\d+)(?:_result)?\\.jpg/);return match?parseInt(match[1]):0;};return getTime(b)-getTime(a);});const fullData=sorted.map(name=>{var _name$match;return{name,url:`http://220.149.235.221:4000/images_result/${name}`,timestamp:parseInt(((_name$match=name.match(/frame_(\\d+)(?:_result)?\\.jpg/))===null||_name$match===void 0?void 0:_name$match[1])||0)};});console.log(\"‚úÖ Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ:\",fullData);setAnalyzedImages(fullData);}).catch(err=>{console.error(\"‚ùå Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ Î°úÎî© Ïã§Ìå®:\",err);});},[]);const formatDate=ts=>{const date=new Date(ts);return date.toLocaleString('ko-KR');};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-screen-xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6\",children:\"\\uC804\\uCCB4 \\uC800\\uC7A5\\uB41C \\uC774\\uBBF8\\uC9C0 \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"\\uD83D\\uDCF7 \\uC6D0\\uBCF8 \\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-6 mb-12\",children:images.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"\\uBD88\\uB7EC\\uC62C \\uC774\\uBBF8\\uC9C0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):images.map((img,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border p-2 text-center space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 flex items-center justify-center border\",children:/*#__PURE__*/_jsx(\"img\",{src:img.url,alt:img.name,className:\"max-h-full object-contain\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-800 font-semibold\",children:img.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:formatDate(img.timestamp)})]},idx))}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"\\uD83E\\uDDE0 AI\\uAC00 \\uBD84\\uC11D\\uD55C \\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-6\",children:analyzedImages.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"\\uBD88\\uB7EC\\uC62C \\uBD84\\uC11D \\uC774\\uBBF8\\uC9C0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):analyzedImages.map((img,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border p-2 text-center space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 flex items-center justify-center border\",children:/*#__PURE__*/_jsx(\"img\",{src:img.url,alt:img.name,className:\"max-h-full object-contain\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-800 font-semibold\",children:img.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:formatDate(img.timestamp)})]},idx))})]});};export default latest_image;","map":{"version":3,"names":["React","useEffect","useState","fetchImageList","jsx","_jsx","jsxs","_jsxs","latest_image","images","setImages","analyzedImages","setAnalyzedImages","then","data","console","log","catch","err","error","fetch","res","text","html","parser","DOMParser","doc","parseFromString","links","Array","from","querySelectorAll","map","a","getAttribute","filter","name","startsWith","endsWith","sorted","sort","b","getTime","f","match","parseInt","fullData","_name$match","url","timestamp","formatDate","ts","date","Date","toLocaleString","className","children","length","img","idx","src","alt"],"sources":["/home/getout/workspace/my-tailwind-site/src/pages/latest_image.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { fetchImageList } from '../utils/imageFetcher';\n\nconst latest_image = () => {\n  const [images, setImages] = useState([]);\n  const [analyzedImages, setAnalyzedImages] = useState([]);\n\n  useEffect(() => {\n    // 1. ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ Í∞ÄÏ†∏Ïò§Í∏∞\n    fetchImageList()\n      .then(data => {\n        console.log(\"‚úÖ ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ:\", data);\n        setImages(data);\n      })\n      .catch(err => {\n        console.error(\"‚ùå ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ Ïã§Ìå®:\", err);\n      });\n\n    // 2. Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ Í∞ÄÏ†∏Ïò§Í∏∞ (HTMLÏóêÏÑú ÌååÏã±)\n    fetch('http://220.149.235.221:4000/images_result/')\n      .then(res => res.text())\n      .then(html => {\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(html, 'text/html');\n        const links = Array.from(doc.querySelectorAll('a'))\n          .map(a => a.getAttribute('href'))\n          .filter(name => name?.startsWith('frame_') && name.endsWith('.jpg'));\n\n        const sorted = links.sort((a, b) => {\n          const getTime = f => {\n            const match = f.match(/frame_(\\d+)(?:_result)?\\.jpg/);\n            return match ? parseInt(match[1]) : 0;\n          };\n          return getTime(b) - getTime(a);\n        });\n\n        const fullData = sorted.map(name => ({\n          name,\n          url: `http://220.149.235.221:4000/images_result/${name}`,\n          timestamp: parseInt(name.match(/frame_(\\d+)(?:_result)?\\.jpg/)?.[1] || 0)\n        }));\n\n        console.log(\"‚úÖ Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ:\", fullData);\n        setAnalyzedImages(fullData);\n      })\n      .catch(err => {\n        console.error(\"‚ùå Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ Î°úÎî© Ïã§Ìå®:\", err);\n      });\n  }, []);\n\n  const formatDate = (ts) => {\n    const date = new Date(ts);\n    return date.toLocaleString('ko-KR');\n  };\n\n  return (\n    <div className=\"p-6 max-w-screen-xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-6\">Ï†ÑÏ≤¥ Ï†ÄÏû•Îêú Ïù¥ÎØ∏ÏßÄ Î™©Î°ù</h1>\n\n      <h2 className=\"text-xl font-semibold mb-4\">üì∑ ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ</h2>\n      <div className=\"grid grid-cols-3 gap-6 mb-12\">\n        {images.length === 0 ? (\n          <div className=\"text-gray-500\">Î∂àÎü¨Ïò¨ Ïù¥ÎØ∏ÏßÄÍ∞Ä ÏóÜÏäµÎãàÎã§.</div>\n        ) : (\n          images.map((img, idx) => (\n            <div key={idx} className=\"border p-2 text-center space-y-2\">\n              <div className=\"h-48 flex items-center justify-center border\">\n                <img\n                  src={img.url}\n                  alt={img.name}\n                  className=\"max-h-full object-contain\"\n                />\n              </div>\n              <div className=\"text-sm text-gray-800 font-semibold\">{img.name}</div>\n              <div className=\"text-xs text-gray-500\">{formatDate(img.timestamp)}</div>\n            </div>\n          ))\n        )}\n      </div>\n\n      <h2 className=\"text-xl font-semibold mb-4\">üß† AIÍ∞Ä Î∂ÑÏÑùÌïú Ïù¥ÎØ∏ÏßÄ</h2>\n      <div className=\"grid grid-cols-3 gap-6\">\n        {analyzedImages.length === 0 ? (\n          <div className=\"text-gray-500\">Î∂àÎü¨Ïò¨ Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄÍ∞Ä ÏóÜÏäµÎãàÎã§.</div>\n        ) : (\n          analyzedImages.map((img, idx) => (\n            <div key={idx} className=\"border p-2 text-center space-y-2\">\n              <div className=\"h-48 flex items-center justify-center border\">\n                <img\n                  src={img.url}\n                  alt={img.name}\n                  className=\"max-h-full object-contain\"\n                />\n              </div>\n              <div className=\"text-sm text-gray-800 font-semibold\">{img.name}</div>\n              <div className=\"text-xs text-gray-500\">{formatDate(img.timestamp)}</div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default latest_image;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,cAAc,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACS,cAAc,CAAEC,iBAAiB,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAExDD,SAAS,CAAC,IAAM,CACd;AACAE,cAAc,CAAC,CAAC,CACbU,IAAI,CAACC,IAAI,EAAI,CACZC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEF,IAAI,CAAC,CAC9BJ,SAAS,CAACI,IAAI,CAAC,CACjB,CAAC,CAAC,CACDG,KAAK,CAACC,GAAG,EAAI,CACZH,OAAO,CAACI,KAAK,CAAC,cAAc,CAAED,GAAG,CAAC,CACpC,CAAC,CAAC,CAEJ;AACAE,KAAK,CAAC,4CAA4C,CAAC,CAChDP,IAAI,CAACQ,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBT,IAAI,CAACU,IAAI,EAAI,CACZ,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,SAAS,CAAC,CAAC,CAC9B,KAAM,CAAAC,GAAG,CAAGF,MAAM,CAACG,eAAe,CAACJ,IAAI,CAAE,WAAW,CAAC,CACrD,KAAM,CAAAK,KAAK,CAAGC,KAAK,CAACC,IAAI,CAACJ,GAAG,CAACK,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAChDC,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,YAAY,CAAC,MAAM,CAAC,CAAC,CAChCC,MAAM,CAACC,IAAI,EAAI,CAAAA,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,UAAU,CAAC,QAAQ,CAAC,GAAID,IAAI,CAACE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAEtE,KAAM,CAAAC,MAAM,CAAGX,KAAK,CAACY,IAAI,CAAC,CAACP,CAAC,CAAEQ,CAAC,GAAK,CAClC,KAAM,CAAAC,OAAO,CAAGC,CAAC,EAAI,CACnB,KAAM,CAAAC,KAAK,CAAGD,CAAC,CAACC,KAAK,CAAC,8BAA8B,CAAC,CACrD,MAAO,CAAAA,KAAK,CAAGC,QAAQ,CAACD,KAAK,CAAC,CAAC,CAAC,CAAC,CAAG,CAAC,CACvC,CAAC,CACD,MAAO,CAAAF,OAAO,CAACD,CAAC,CAAC,CAAGC,OAAO,CAACT,CAAC,CAAC,CAChC,CAAC,CAAC,CAEF,KAAM,CAAAa,QAAQ,CAAGP,MAAM,CAACP,GAAG,CAACI,IAAI,OAAAW,WAAA,OAAK,CACnCX,IAAI,CACJY,GAAG,CAAE,6CAA6CZ,IAAI,EAAE,CACxDa,SAAS,CAAEJ,QAAQ,CAAC,EAAAE,WAAA,CAAAX,IAAI,CAACQ,KAAK,CAAC,8BAA8B,CAAC,UAAAG,WAAA,iBAA1CA,WAAA,CAA6C,CAAC,CAAC,GAAI,CAAC,CAC1E,CAAC,EAAC,CAAC,CAEHhC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAE8B,QAAQ,CAAC,CAClClC,iBAAiB,CAACkC,QAAQ,CAAC,CAC7B,CAAC,CAAC,CACD7B,KAAK,CAACC,GAAG,EAAI,CACZH,OAAO,CAACI,KAAK,CAAC,iBAAiB,CAAED,GAAG,CAAC,CACvC,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAgC,UAAU,CAAIC,EAAE,EAAK,CACzB,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACF,EAAE,CAAC,CACzB,MAAO,CAAAC,IAAI,CAACE,cAAc,CAAC,OAAO,CAAC,CACrC,CAAC,CAED,mBACE/C,KAAA,QAAKgD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CnD,IAAA,OAAIkD,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,iEAAa,CAAI,CAAC,cAE1DnD,IAAA,OAAIkD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,8CAAS,CAAI,CAAC,cACzDnD,IAAA,QAAKkD,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAC1C/C,MAAM,CAACgD,MAAM,GAAK,CAAC,cAClBpD,IAAA,QAAKkD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,uEAAc,CAAK,CAAC,CAEnD/C,MAAM,CAACuB,GAAG,CAAC,CAAC0B,GAAG,CAAEC,GAAG,gBAClBpD,KAAA,QAAegD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eACzDnD,IAAA,QAAKkD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,cAC3DnD,IAAA,QACEuD,GAAG,CAAEF,GAAG,CAACV,GAAI,CACba,GAAG,CAAEH,GAAG,CAACtB,IAAK,CACdmB,SAAS,CAAC,2BAA2B,CACtC,CAAC,CACC,CAAC,cACNlD,IAAA,QAAKkD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAEE,GAAG,CAACtB,IAAI,CAAM,CAAC,cACrE/B,IAAA,QAAKkD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEN,UAAU,CAACQ,GAAG,CAACT,SAAS,CAAC,CAAM,CAAC,GAThEU,GAUL,CACN,CACF,CACE,CAAC,cAENtD,IAAA,OAAIkD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,6DAAc,CAAI,CAAC,cAC9DnD,IAAA,QAAKkD,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpC7C,cAAc,CAAC8C,MAAM,GAAK,CAAC,cAC1BpD,IAAA,QAAKkD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,oFAAiB,CAAK,CAAC,CAEtD7C,cAAc,CAACqB,GAAG,CAAC,CAAC0B,GAAG,CAAEC,GAAG,gBAC1BpD,KAAA,QAAegD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eACzDnD,IAAA,QAAKkD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,cAC3DnD,IAAA,QACEuD,GAAG,CAAEF,GAAG,CAACV,GAAI,CACba,GAAG,CAAEH,GAAG,CAACtB,IAAK,CACdmB,SAAS,CAAC,2BAA2B,CACtC,CAAC,CACC,CAAC,cACNlD,IAAA,QAAKkD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAEE,GAAG,CAACtB,IAAI,CAAM,CAAC,cACrE/B,IAAA,QAAKkD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEN,UAAU,CAACQ,GAAG,CAACT,SAAS,CAAC,CAAM,CAAC,GAThEU,GAUL,CACN,CACF,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnD,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}