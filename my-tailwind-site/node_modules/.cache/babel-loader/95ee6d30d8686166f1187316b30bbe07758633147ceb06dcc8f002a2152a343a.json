{"ast":null,"code":"import React,{useEffect,useState}from'react';import{fetchImageList}from'../utils/imageFetcher';// ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄÏö©\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const latest_image=()=>{const[images,setImages]=useState([]);const[analyzedImages,setAnalyzedImages]=useState([]);useEffect(()=>{// 1. ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ\nfetchImageList().then(data=>{setImages(data);}).catch(err=>{console.error(\"‚ùå ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:\",err);});// 2. Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ (JSON)\nfetch('http://220.149.235.221:4000/api/images_result').then(res=>res.json()).then(fileList=>{const sorted=fileList.filter(name=>/^frame_result_(\\d+)\\.jpg$/.test(name)).sort((a,b)=>{const getTime=f=>{var _f$match;return parseInt(((_f$match=f.match(/^frame_result_(\\d+)\\.jpg$/))===null||_f$match===void 0?void 0:_f$match[1])||0);};return getTime(b)-getTime(a);});const fullData=sorted.map(name=>{var _name$match;return{name,url:`http://220.149.235.221:4000/images_result/${name}`,timestamp:parseInt(((_name$match=name.match(/^frame_result_(\\d+)\\.jpg$/))===null||_name$match===void 0?void 0:_name$match[1])||0)};});setAnalyzedImages(fullData);}).catch(err=>{console.error(\"‚ùå Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ JSON Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:\",err);});},[]);const formatDate=ts=>{const date=new Date(ts);return date.toLocaleString('ko-KR');};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-screen-xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6\",children:\"\\uC804\\uCCB4 \\uC800\\uC7A5\\uB41C \\uC774\\uBBF8\\uC9C0 \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"\\uD83D\\uDCF7 \\uC6D0\\uBCF8 \\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-6 mb-12\",children:images.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"\\uBD88\\uB7EC\\uC62C \\uC774\\uBBF8\\uC9C0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):images.map((img,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border p-2 text-center space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 flex items-center justify-center border\",children:/*#__PURE__*/_jsx(\"img\",{src:img.url,alt:img.name,className:\"max-h-full object-contain\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-800 font-semibold\",children:img.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:formatDate(img.timestamp)})]},idx))}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"\\uD83E\\uDD20 AI\\uAC00 \\uBD84\\uC11D\\uD55C \\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-6\",children:analyzedImages.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"\\uBD88\\uB7EC\\uC62C \\uBD84\\uC11D \\uC774\\uBBF8\\uC9C0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):analyzedImages.map((img,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border p-2 text-center space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 flex items-center justify-center border\",children:/*#__PURE__*/_jsx(\"img\",{src:img.url,alt:img.name,className:\"max-h-full object-contain\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-800 font-semibold\",children:img.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:formatDate(img.timestamp)})]},idx))})]});};export default latest_image;","map":{"version":3,"names":["React","useEffect","useState","fetchImageList","jsx","_jsx","jsxs","_jsxs","latest_image","images","setImages","analyzedImages","setAnalyzedImages","then","data","catch","err","console","error","fetch","res","json","fileList","sorted","filter","name","test","sort","a","b","getTime","f","_f$match","parseInt","match","fullData","map","_name$match","url","timestamp","formatDate","ts","date","Date","toLocaleString","className","children","length","img","idx","src","alt"],"sources":["/home/getout/workspace/my-tailwind-site/src/pages/latest_image.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { fetchImageList } from '../utils/imageFetcher'; // ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄÏö©\n\nconst latest_image = () => {\n  const [images, setImages] = useState([]);\n  const [analyzedImages, setAnalyzedImages] = useState([]);\n\n  useEffect(() => {\n    // 1. ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ\n    fetchImageList()\n      .then(data => {\n        setImages(data);\n      })\n      .catch(err => {\n        console.error(\"‚ùå ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:\", err);\n      });\n\n    // 2. Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ (JSON)\n    fetch('http://220.149.235.221:4000/api/images_result')\n      .then(res => res.json())\n      .then(fileList => {\n        const sorted = fileList\n          .filter(name => /^frame_result_(\\d+)\\.jpg$/.test(name))\n          .sort((a, b) => {\n            const getTime = f => parseInt(f.match(/^frame_result_(\\d+)\\.jpg$/)?.[1] || 0);\n            return getTime(b) - getTime(a);\n          });\n\n        const fullData = sorted.map(name => ({\n          name,\n          url: `http://220.149.235.221:4000/images_result/${name}`,\n          timestamp: parseInt(name.match(/^frame_result_(\\d+)\\.jpg$/)?.[1] || 0)\n        }));\n\n        setAnalyzedImages(fullData);\n      })\n      .catch(err => {\n        console.error(\"‚ùå Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ JSON Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:\", err);\n      });\n  }, []);\n\n  const formatDate = (ts) => {\n    const date = new Date(ts);\n    return date.toLocaleString('ko-KR');\n  };\n\n  return (\n    <div className=\"p-6 max-w-screen-xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-6\">Ï†ÑÏ≤¥ Ï†ÄÏû•Îêú Ïù¥ÎØ∏ÏßÄ Î™©Î°ù</h1>\n\n      {/* ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ ÏÑ∏Ï∏†ÎãàÏñ¥ */}\n      <h2 className=\"text-xl font-semibold mb-4\">üì∑ ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ</h2>\n      <div className=\"grid grid-cols-3 gap-6 mb-12\">\n        {images.length === 0 ? (\n          <div className=\"text-gray-500\">Î∂àÎü¨Ïò¨ Ïù¥ÎØ∏ÏßÄÍ∞Ä ÏóÜÏäµÎãàÎã§.</div>\n        ) : (\n          images.map((img, idx) => (\n            <div key={idx} className=\"border p-2 text-center space-y-2\">\n              <div className=\"h-48 flex items-center justify-center border\">\n                <img src={img.url} alt={img.name} className=\"max-h-full object-contain\" />\n              </div>\n              <div className=\"text-sm text-gray-800 font-semibold\">{img.name}</div>\n              <div className=\"text-xs text-gray-500\">{formatDate(img.timestamp)}</div>\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄ ÏÑ∏Ï∏†ÎãàÏñ¥ */}\n      <h2 className=\"text-xl font-semibold mb-4\">ü§† AIÍ∞Ä Î∂ÑÏÑùÌïú Ïù¥ÎØ∏ÏßÄ</h2>\n      <div className=\"grid grid-cols-3 gap-6\">\n        {analyzedImages.length === 0 ? (\n          <div className=\"text-gray-500\">Î∂àÎü¨Ïò¨ Î∂ÑÏÑù Ïù¥ÎØ∏ÏßÄÍ∞Ä ÏóÜÏäµÎãàÎã§.</div>\n        ) : (\n          analyzedImages.map((img, idx) => (\n            <div key={idx} className=\"border p-2 text-center space-y-2\">\n              <div className=\"h-48 flex items-center justify-center border\">\n                <img src={img.url} alt={img.name} className=\"max-h-full object-contain\" />\n              </div>\n              <div className=\"text-sm text-gray-800 font-semibold\">{img.name}</div>\n              <div className=\"text-xs text-gray-500\">{formatDate(img.timestamp)}</div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default latest_image;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}